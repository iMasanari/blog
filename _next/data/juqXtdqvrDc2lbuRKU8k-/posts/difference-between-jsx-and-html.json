{"pageProps":{"post":{"title":"HTMLでは使えないJSX独自の書き方","description":"HTMLとReact JSXの書き方の違いでハマったポイントをまとめた。","slug":"difference-between-jsx-and-html","tags":["React"],"date":"2018-08-13T14:57:58.277Z","update":null,"image":null,"draft":false},"next":{"title":"Rust + wasm-bindgen + WebWorkerの環境構築","description":"WebAssembly Advent Calendar 2018の20日目の記事。","slug":"wasm-bindgen-with-worker","tags":["Rust","wasm-bindgen","TypeScript","parcel"],"date":"2018-12-20T14:58:37.388Z","update":"2019-04-20T13:15:27.878Z","image":null,"draft":false},"prev":{"title":"私の必要最低限な環境構築","description":"macOS Mojaveのダークモードに憧れ、Macbookのサブパーテーションにパブリックベータをインストールした。メインのパーテーションに入れるかを検討するため、しばらくはこちらを使用していこうと思う。このパーテーションはHigh Sierraのパブリックベータからのアップデートのため新規インストールではないが、一通り開発できる環境を整え、それをまとめることにする。","slug":"environment-construction","tags":["macOS"],"date":"2018-08-09T15:46:41.052Z","update":"2018-08-31T23:55:19.826Z","image":null,"draft":false},"sameTags":[{"title":"ブログをNext.jsベースに変更した","description":"","slug":"use-next","tags":["React","Next.js","blog"],"date":"2020-09-20T06:33:49.199Z","update":null,"image":null,"draft":false},{"title":"ブログで使用した技術","description":"この技術ブログで使用したライブラリやツールを紹介していきます。選定理由についても書きました。","slug":"use-technology","tags":["blog","React","preact","TypeScript","ReactStatic"],"date":"2018-06-30T14:52:29.225Z","update":"2019-04-20T13:15:27.878Z","image":null,"draft":false}],"content":"<h2>はじめに</h2>\n<p>業務でHTML（Javaのjsp）を書いている時、select要素の初期値をReactのJSXの感覚で書いたら動かなかった。HTMLとJSXとでは書き方が違ったのだ。</p>\n<h2>select要素</h2>\n<p>ReactのJSXでは、select要素のvalue属性にその値を入れることでの初期値を決めることができる。</p>\n<app-code-wrapper lang=\"jsx\" code=\"const Component = () =>\n  <select value=&#x22;bar&#x22;>\n    <option value=&#x22;foo&#x22;>FOO</option>\n    <option value=&#x22;bar&#x22;>BAR</option>\n  </select>\"><pre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"><code><span class=\"line\"><span style=\"color: #569CD6\">const</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #DCDCAA\">Component</span><span style=\"color: #D4D4D4\"> = () </span><span style=\"color: #569CD6\">=&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">select</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">value</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;bar&quot;</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">    </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">option</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">value</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;foo&quot;</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">FOO</span><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">option</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">    </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">option</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">value</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;bar&quot;</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">BAR</span><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">option</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">select</span><span style=\"color: #808080\">&gt;</span></span></code></pre></app-code-wrapper>\n<p>一方HTMLでは、初期値にするoption要素へselected属性を指定する必要がある。</p>\n<app-code-wrapper lang=\"html\" code=\"<select>\n  <option value=&#x22;foo&#x22;>FOO</option>\n  <option value=&#x22;bar&#x22; selected>BAR</option>\n</select>\"><pre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"><code><span class=\"line\"><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">select</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">option</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">value</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;foo&quot;</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">FOO</span><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">option</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">option</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">value</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;bar&quot;</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">selected</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">BAR</span><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">option</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #808080\">&lt;/</span><span style=\"color: #569CD6\">select</span><span style=\"color: #808080\">&gt;</span></span></code></pre></app-code-wrapper>\n<h2>閉じタグ</h2>\n<p>JSXでは閉じタグは省略できないが、HTMLでは、省略できる要素がある。</p>\n<app-code-wrapper lang=\"html\" code=\"<ul>\n  <!-- JSXでは文法エラー -->\n  <li><p>foo\n  <li><p>bar\n<ul>\"><pre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"><code><span class=\"line\"><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">ul</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #6A9955\">&lt;!-- JSXでは文法エラー --&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">li</span><span style=\"color: #808080\">&gt;&lt;</span><span style=\"color: #569CD6\">p</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">foo</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">li</span><span style=\"color: #808080\">&gt;&lt;</span><span style=\"color: #569CD6\">p</span><span style=\"color: #808080\">&gt;</span><span style=\"color: #D4D4D4\">bar</span></span>\n<span class=\"line\"><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">ul</span><span style=\"color: #808080\">&gt;</span></span></code></pre></app-code-wrapper>\n<p>一方で空要素は、JSXでは全てのタグで<code>&#x3C;div /></code>と終了タグを省略できるが、HTMLでは<code>&#x3C;img /></code>のような必ず空要素のタグでしか省略することができない。</p>\n<app-code-wrapper lang=\"html\" code=\"<body>\n  <!-- HTMLでは正しくパースされない -->\n  <div id=&#x22;app&#x22; />\n  <script src=&#x22;/bundle.js&#x22; />\n</body>\"><pre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"><code><span class=\"line\"><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">body</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #6A9955\">&lt;!-- HTMLでは正しくパースされない --&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">div</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">id</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;app&quot;</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #F44747\">/</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">  </span><span style=\"color: #808080\">&lt;</span><span style=\"color: #569CD6\">script</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #9CDCFE\">src</span><span style=\"color: #D4D4D4\">=</span><span style=\"color: #CE9178\">&quot;/bundle.js&quot;</span><span style=\"color: #D4D4D4\"> </span><span style=\"color: #F44747\">/</span><span style=\"color: #808080\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D4D4D4\">&lt;/</span><span style=\"color: #9CDCFE\">body</span><span style=\"color: #D4D4D4\">&gt;</span></span></code></pre></app-code-wrapper>"},"__N_SSG":true}