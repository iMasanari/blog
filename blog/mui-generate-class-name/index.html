<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74494516-4"></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-74494516-4', {
  page_path: window.location.pathname,
});
</script><meta name="google-site-verification" content="UmWq3FQLg72H6H0Tlk-SFR9f0bSBsvC8nDmxtK3-qMc" /><meta name="next-font-preconnect" /><meta name="viewport" content="width=device-width" /><meta charSet="utf-8" /><title>Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法 | Tech SANDBOX</title><meta name="description" content="Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。" /><meta property="og:title" content="Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法" /><meta property="og:description" content="Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。" /><meta property="og:type" content="article" /><meta property="og:url" content="https://imasanari.github.io/blog/mui-generate-class-name/" /><meta property="og:image" content="https://imasanari.github.io/images/icon.jpg" /><meta property="og:site_name" content="Tech SANDBOX" /><meta name="twitter:card" content="summary" /><meta name="next-head-count" content="11" /><link rel="amphtml" href="/blog/mui-generate-class-name.amp" /><noscript data-n-css></noscript><script defer noModule src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer></script><script src="/_next/static/chunks/framework-99e312cfb7dcf1fad3b6.js" defer></script><script src="/_next/static/chunks/main-954eafc91ecd5de4a70b.js" defer></script><script src="/_next/static/chunks/pages/_app-5e304465509d629ad310.js" defer></script><script src="/_next/static/chunks/705-e7ded5d2f053dc51adf4.js" defer></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c1e0b969fdeb72d9c3cd.js" defer></script><script src="/_next/static/lh3cR4sfn29ycpwauoObM/_buildManifest.js" defer></script><script src="/_next/static/lh3cR4sfn29ycpwauoObM/_ssgManifest.js" defer></script><style data-emotion="c-global 15yblv4">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="c 1j2cbpl g7fid7 1ff36h2 1x6wkub 1qeofn3 wb6uyc rntpfg up73zk zjuml4 1dmadst vubbuv 191lty2 1qsxih2 1yjvs5a 1n6wxgb 1qh3bxa 16n8wpk 1ihubty 1772xtw 1bbvdb4 chkhw5 y25xid 1ugattu x4at48 35e4su cbw5c6 1aue7hj nkh4ut q1nw06 1hdf6gm 1hbvs7c ze4krk 1jnynlu v5al3 116qoqd x8nsji 1d3ah2d fnf71d 1j6il5h">.c-1j2cbpl{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#f5f5f5;color:rgba(0, 0, 0, 0.87);}@media print{.c-1j2cbpl{position:absolute;}}.c-g7fid7{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:56px;}@media (min-width:600px){.c-g7fid7{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-g7fid7{max-width:1200px;}}@media (min-width:0px) and (orientation: landscape){.c-g7fid7{min-height:48px;}}@media (min-width:600px){.c-g7fid7{min-height:64px;}}.c-1ff36h2{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.c-1x6wkub{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.25rem;line-height:1.6;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.c-1qeofn3{margin:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.c-wb6uyc{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}@media (min-width:0px){.c-rntpfg{display:none;}}@media (min-width:600px){.c-rntpfg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.c-up73zk{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;margin-left:24px;-webkit-text-decoration:underline;text-decoration:underline;}.c-up73zk:hover{text-decoration-color:inherit;}@media (min-width:0px){.c-zjuml4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (min-width:600px){.c-zjuml4{display:none;}}.c-1dmadst{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-right:-12px;color:inherit;padding:12px;font-size:1.75rem;}.c-1dmadst::-moz-focus-inner{border-style:none;}.c-1dmadst.Mui-disabled{pointer-events:none;cursor:default;}@media print{.c-1dmadst{-webkit-print-color-adjust:exact;color-adjust:exact;}}.c-1dmadst:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.c-1dmadst:hover{background-color:transparent;}}.c-1dmadst.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.c-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}.c-191lty2{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.c-191lty2{padding-left:24px;padding-right:24px;}}@media (min-width:0px) and (orientation: landscape){.c-191lty2{min-height:48px;}}@media (min-width:600px){.c-191lty2{min-height:64px;}}.c-1qsxih2{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.c-1qsxih2{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-1qsxih2{max-width:1200px;}}.c-1yjvs5a{margin-bottom:32px;}.c-1n6wxgb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:8px 0px;}.c-1qh3bxa{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;margin-right:4px;}.c-16n8wpk{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;}.c-1ihubty{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.5rem;line-height:1.334;margin-bottom:0.35em;}.c-1772xtw{padding:0;margin:0;}.c-1bbvdb4{display:inline;padding:0;margin:0;}.c-chkhw5{margin:0;color:rgba(0, 0, 0, 0.6);-webkit-text-decoration:none;text-decoration:none;}.c-chkhw5:hover{-webkit-text-decoration:underline;text-decoration:underline;}.c-y25xid{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-top:16px;margin-bottom:16px;text-align:justify;white-space:pre-line;}.c-1ugattu{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:2.125rem;line-height:1.235;margin-top:32px;margin-bottom:32px;border-bottom:1px solid currentcolor;}.c-x4at48{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-top:16px;margin-bottom:16px;overflow:auto;padding:8px 32px;}.c-35e4su{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;}pre>.c-35e4su{padding:0;background-color:transparent;}.c-cbw5c6{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;word-break:break-all;}pre>.c-cbw5c6{padding:0;background-color:transparent;}.c-1aue7hj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;margin:32px 0px;}.c-nkh4ut{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:0;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.c-q1nw06{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-q1nw06:hover{text-decoration-color:inherit;}.c-1hdf6gm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;border-left:1px solid #6c6c6c;border-right:1px solid #6c6c6c;}.c-1hbvs7c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-right:0;}.c-ze4krk{margin:32px auto;}.c-1jnynlu{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.5rem;line-height:1.334;}.c-v5al3{list-style:none;padding:0;margin:0;}.c-116qoqd{padding:16px 24px;margin:16px 0px;border:1px solid #bbb;}.c-x8nsji{margin:0;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-x8nsji:hover{text-decoration-color:inherit;}.c-1d3ah2d{text-align:center;margin:32px 0px;}.c-fnf71d{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-bottom:0.35em;}.c-1j6il5h{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-1j6il5h:hover{text-decoration-color:inherit;}</style></head><body><div id="__next"><header amp-fx="float-in-top" class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation1 MuiAppBar-root MuiAppBar-colorDefault MuiAppBar-positionFixed mui-fixed c-1j2cbpl"><div class="MuiContainer-root MuiContainer-maxWidthLg MuiToolbar-root MuiToolbar-regular c-g7fid7"><div class="c-1ff36h2"><div class="MuiTypography-root MuiTypography-h6 MuiTypography-noWrap c-1x6wkub"><a href="/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone c-1qeofn3">Tech SANDBOX</a></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-noWrap c-wb6uyc">技術ブログ改め、Qiitaの下書き</p></div><nav class="MuiBox-root c-rntpfg"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">Blog</a><a href="https://github.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">GitHub</a><a href="https://qiita.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">Qiita</a></nav><div class="MuiBox-root c-zjuml4"><button tabIndex="0" type="button" aria-label="menu" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeEnd MuiIconButton-sizeLarge c-1dmadst"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="MenuIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium c-vubbuv"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button></div></div></header><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular c-191lty2"></div><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><article><div class="MuiBox-root c-1yjvs5a"><header><div class="c-1n6wxgb"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2021-10-11T16:40:23.602Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2021-10-11</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty">Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法</h1><ul class="c-1772xtw"> <li class="c-1bbvdb4"><a href="/tags/MUI/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#MUI</a></li> <li class="c-1bbvdb4"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#Next.js</a></li></ul></header></div><main><p class="MuiTypography-root MuiTypography-body1 c-y25xid">Qiitaに投稿予定でしたが、MUI（Material-UI）がv5になってこの方法が非対応になってしまったので、このブログで供養します。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">Material-UIのクラス名長い問題</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">長くないですか？
下記は、Next.jsとMaterial-UIを組み合わせたexampleのコードです。実際にSSR/SSGしてみましょう。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #C586C0;">export</span><span style="color: #D4D4D4;"> </span><span style="color: #C586C0;">default</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">function</span><span style="color: #D4D4D4;"> </span><span style="color: #DCDCAA;">Index</span><span style="color: #D4D4D4;">() {</span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #C586C0;">return</span><span style="color: #D4D4D4;"> (</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Container</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">maxWidth</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;sm&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">      </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Box</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">my</span><span style="color: #D4D4D4;">=</span><span style="color: #569CD6;">{</span><span style="color: #B5CEA8;">4</span><span style="color: #569CD6;">}</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Typography</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">variant</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;h4&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">component</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;h1&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">gutterBottom</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">          Next.js with TypeScript example</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Typography</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Link</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">color</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;secondary&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">          Go to the about page</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Link</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">ProTip</span><span style="color: #D4D4D4;"> </span><span style="color: #808080;">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Copyright</span><span style="color: #D4D4D4;"> </span><span style="color: #808080;">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">      </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Box</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Container</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">  )</span></span>
<span class="line"><span style="color: #D4D4D4;">}</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-35e4su">MuiContainerroot-0-1-1</code>のように、長いクラス名（しかも1つの要素に複数のクラス）になります。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiContainerroot-0-1-1 MuiContainermaxWidthSm-0-1-5&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiBoxroot-0-1-9 MuiBoxroot-0-1-10&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">h1</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 MuiTypographyh4-0-1-19 MuiTypographygutterBottom-0-1-31&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #D4D4D4;">Next.js with TypeScript example</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">h1</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">a</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 MuiLinkroot-0-1-41 MuiLinkunderlineHover-0-1-43 MuiTypographycolorSecondary-0-1-35&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #D4D4D4;">Go to the about page</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">a</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">p</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 makeStylesroot-0-1-47 MuiTypographybody1-0-1-13 MuiTypographycolorTextSecondary-0-1-37&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #6A9955;">&lt;!-- ...(略) --&gt;</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">この記事で紹介する設定を行えば、<code class="c-cbw5c6">production</code>設定のビルドで下記のようになります。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c1 c5&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c9 c10&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">h1</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c19 c31&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #D4D4D4;">Next.js with TypeScript example</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">h1</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">a</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c41 c43 c35&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #D4D4D4;">Go to the about page</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">a</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">p</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c47 c13 c37&quot;</span><span style="color: #808080;">&gt;</span></span>
<span class="line"><span style="color: #6A9955;">&lt;!-- ...(略) --&gt;</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">かなりすっきりしていますね。
1ページすべてで上記の短縮が行われると、結構大きなHTMLのサイズ差になるのではないでしょうか。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">設定方法</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">それでは、その設定方法を見ていきましょう。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">クラス名を短縮させるには、<code class="c-cbw5c6">createGenerateClassName</code> で設定を行います。
Next.jsではクライアント側、サーバー(SSR/SSG)側の両方で使用するので、今回は別ファイルで設定しておき、importして使用するようにします。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #6A9955;">// src/styles.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0;">import</span><span style="color: #D4D4D4;"> { </span><span style="color: #9CDCFE;">createGenerateClassName</span><span style="color: #D4D4D4;"> } </span><span style="color: #C586C0;">from</span><span style="color: #D4D4D4;"> </span><span style="color: #CE9178;">'@material-ui/core'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0;">export</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">const</span><span style="color: #D4D4D4;"> </span><span style="color: #DCDCAA;">getGenerateClassName</span><span style="color: #D4D4D4;"> = () </span><span style="color: #569CD6;">=&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #DCDCAA;">createGenerateClassName</span><span style="color: #D4D4D4;">({</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #9CDCFE;">productionPrefix:</span><span style="color: #D4D4D4;"> </span><span style="color: #CE9178;">'c'</span><span style="color: #D4D4D4;">,</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #9CDCFE;">disableGlobal:</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">true</span><span style="color: #D4D4D4;">,</span></span>
<span class="line"><span style="color: #D4D4D4;">  })</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">ポイントは、<code class="c-cbw5c6">disableGlobal</code> で、<code class="c-cbw5c6">true</code> にすることです。これによって、Material-UI標準のクラス名も短縮されるようになります。
<code class="c-cbw5c6">productionPrefix</code> はクラス名のプレフィックスで、初期値は <code class="c-cbw5c6">jss</code> です。今回は、より短くするために、1文字の <code class="c-cbw5c6">c</code> を指定しました。それによって、クラス名が <code class="c-cbw5c6">c10</code> のようになります。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">次はクライアント側、<code class="c-cbw5c6">_app.tsx</code> です。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #D4D4D4;">// pages/_app.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color: #B5CEA8;">+import { StylesProvider } from '@material-ui/core/styles'</span></span>
<span class="line"><span style="color: #B5CEA8;">+import { getGenerateClassName } from '../src/styles'</span></span>
<span class="line"><span style="color: #D4D4D4;"> </span></span>
<span class="line"><span style="color: #B5CEA8;">+const generateClassName = getGenerateClassName()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> export default function MyApp(props: AppProps) {</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;">   return (</span></span>
<span class="line"><span style="color: #B5CEA8;">+    &lt;StylesProvider generateClassName={generateClassName}&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;Head&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;title&gt;My page&lt;/title&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;meta name=&quot;viewport&quot; content=&quot;minimum-scale=1, initial-scale=1, width=device-width&quot; /&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;/Head&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;ThemeProvider theme={theme}&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">         {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}</span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;CssBaseline /&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;Component {...pageProps} /&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;/ThemeProvider&gt;</span></span>
<span class="line"><span style="color: #B5CEA8;">+    &lt;/StylesProvider&gt;</span></span>
<span class="line"><span style="color: #D4D4D4;">   )</span></span>
<span class="line"><span style="color: #D4D4D4;"> }</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">コンテンツを <code class="c-35e4su">&lt;StylesProvider /&gt;</code> で囲み、生成した <code class="c-cbw5c6">generateClassName</code> をpropsに渡してください。
ポイントは、<code class="c-cbw5c6">generateClassName</code> の生成は1回だけ行うことです。今回のコードでは、コンポーネントの外に出しています。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">続いてサーバー側、<code class="c-cbw5c6">_document.tsx</code>です。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #D4D4D4;">// pages/_document.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color: #B5CEA8;">+import { getGenerateClassName } from '../src/styles'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> // 略</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> MyDocument.getInitialProps = async (ctx) =&gt; {</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"><span style="color: #CE9178;">-  const sheets = new ServerStyleSheets()</span></span>
<span class="line"><span style="color: #B5CEA8;">+  const serverGenerateClassName = getGenerateClassName()</span></span>
<span class="line"><span style="color: #B5CEA8;">+  const sheets = new ServerStyleSheets({ serverGenerateClassName })</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"><span style="color: #D4D4D4;"> }</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-cbw5c6">generateClassName</code> を生成し、<code class="c-cbw5c6">ServerStyleSheets</code> の引数に渡します。
ポイントは、クライアント側と違い、パラメータ名が <code class="c-cbw5c6">serverGenerateClassName</code> になっていることと、<code class="c-cbw5c6">getInitialProps</code> で <code class="c-cbw5c6">generateClassName</code> を生成、つまりアクセスの度に生成し直している所です。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">上記の設定により、Material-UI標準のコンポーネントのクラス名が、短縮されるようになります。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">最後に</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">供養完了です。
MUI v5でもできる方法があれば教えて下さい。</p></main></article><ul class="c-1aue7hj"><li class="c-nkh4ut"><a href="/blog/use-amp/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-q1nw06">ブログをAMP対応（仮）しました</a></li><li class="c-1hdf6gm"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-q1nw06">HOME</a></li><li class="c-1hbvs7c"></li></ul><aside class="c-ze4krk"><header><h1 class="MuiTypography-root MuiTypography-h5 c-1jnynlu">同じタグを含む記事</h1><ul class="c-1772xtw"> <li class="c-1bbvdb4"><a href="/tags/MUI/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#MUI</a></li> <li class="c-1bbvdb4"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#Next.js</a></li></ul></header><main><ul class="c-v5al3"><li class="c-116qoqd"><article><header><div class="c-1n6wxgb"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2020-11-28T08:05:18.607Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2020-11-28</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty"><a href="/blog/use-amp/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">ブログをAMP対応（仮）しました</a></h1><ul class="c-1772xtw"> <li class="c-1bbvdb4"><a href="/tags/AMP/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#AMP</a></li> <li class="c-1bbvdb4"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#Next.js</a></li> <li class="c-1bbvdb4"><a href="/tags/blog/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#blog</a></li></ul></header></article></li><li class="c-116qoqd"><article><header><div class="c-1n6wxgb"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2020-09-20T06:33:49.199Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2020-09-20</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty"><a href="/blog/use-next/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">ブログをNext.jsベースに変更した</a></h1><ul class="c-1772xtw"> <li class="c-1bbvdb4"><a href="/tags/React/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#React</a></li> <li class="c-1bbvdb4"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#Next.js</a></li> <li class="c-1bbvdb4"><a href="/tags/blog/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#blog</a></li></ul></header></article></li></ul></main></aside></div><footer class="c-1d3ah2d"><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom c-fnf71d">Author: <a href="https://github.com/iMasanari" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">iMasanari</a></p><a href="https://github.com/iMasanari/imasanari.github.io/" class="MuiTypography-root MuiTypography-body2 MuiLink-root MuiLink-underlineAlways c-1j6il5h">Show on GitHub</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法","description":"Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。","slug":"mui-generate-class-name","tags":["MUI","Next.js"],"date":"2021-10-11T16:40:23.602Z","update":null,"image":null,"draft":false},"next":null,"prev":{"title":"ブログをAMP対応（仮）しました","description":"実質、各ページに `export const config = { amp: 'hybrid' }` を追加しただけ。next.js超ラク。","slug":"use-amp","tags":["AMP","Next.js","blog"],"date":"2020-11-28T08:05:18.607Z","update":null,"image":null,"draft":false},"sameTags":[{"title":"ブログをAMP対応（仮）しました","description":"実質、各ページに `export const config = { amp: 'hybrid' }` を追加しただけ。next.js超ラク。","slug":"use-amp","tags":["AMP","Next.js","blog"],"date":"2020-11-28T08:05:18.607Z","update":null,"image":null,"draft":false},{"title":"ブログをNext.jsベースに変更した","description":"","slug":"use-next","tags":["React","Next.js","blog"],"date":"2020-09-20T06:33:49.199Z","update":null,"image":null,"draft":false}],"content":"\u003cp\u003eQiitaに投稿予定でしたが、MUI（Material-UI）がv5になってこの方法が非対応になってしまったので、このブログで供養します。\u003c/p\u003e\n\u003ch2\u003eMaterial-UIのクラス名長い問題\u003c/h2\u003e\n\u003cp\u003e長くないですか？\n下記は、Next.jsとMaterial-UIを組み合わせたexampleのコードです。実際にSSR/SSGしてみましょう。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003eIndex\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eContainer\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003emaxWidth\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"sm\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eBox\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003emy\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #B5CEA8\"\u003e4\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eTypography\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003evariant\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"h4\"\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecomponent\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"h1\"\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003egutterBottom\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e          Next.js with TypeScript example\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eTypography\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eLink\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"/about\"\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecolor\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"secondary\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e          Go to the about page\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eLink\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eProTip\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eCopyright\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eBox\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eContainer\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eMuiContainerroot-0-1-1\u003c/code\u003eのように、長いクラス名（しかも1つの要素に複数のクラス）になります。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"MuiContainerroot-0-1-1 MuiContainermaxWidthSm-0-1-5\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"MuiBoxroot-0-1-9 MuiBoxroot-0-1-10\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"MuiTypographyroot-0-1-11 MuiTypographyh4-0-1-19 MuiTypographygutterBottom-0-1-31\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eNext.js with TypeScript example\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"MuiTypographyroot-0-1-11 MuiLinkroot-0-1-41 MuiLinkunderlineHover-0-1-43 MuiTypographycolorSecondary-0-1-35\"\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"/about\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eGo to the about page\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"MuiTypographyroot-0-1-11 makeStylesroot-0-1-47 MuiTypographybody1-0-1-13 MuiTypographycolorTextSecondary-0-1-37\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A9955\"\u003e\u0026#x3C;!-- ...(略) --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eこの記事で紹介する設定を行えば、\u003ccode\u003eproduction\u003c/code\u003e設定のビルドで下記のようになります。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"c1 c5\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"c9 c10\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"c11 c19 c31\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eNext.js with TypeScript example\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"c11 c41 c43 c35\"\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"/about\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eGo to the about page\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\"c11 c47 c13 c37\"\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A9955\"\u003e\u0026#x3C;!-- ...(略) --\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eかなりすっきりしていますね。\n1ページすべてで上記の短縮が行われると、結構大きなHTMLのサイズ差になるのではないでしょうか。\u003c/p\u003e\n\u003ch2\u003e設定方法\u003c/h2\u003e\n\u003cp\u003eそれでは、その設定方法を見ていきましょう。\u003c/p\u003e\n\u003cp\u003eクラス名を短縮させるには、\u003ccode\u003ecreateGenerateClassName\u003c/code\u003e で設定を行います。\nNext.jsではクライアント側、サーバー(SSR/SSG)側の両方で使用するので、今回は別ファイルで設定しておき、importして使用するようにします。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A9955\"\u003e// src/styles.ts\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecreateGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e'@material-ui/core'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003egetGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e = () \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e=\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003ecreateGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eproductionPrefix:\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e'c'\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003edisableGlobal:\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eポイントは、\u003ccode\u003edisableGlobal\u003c/code\u003e で、\u003ccode\u003etrue\u003c/code\u003e にすることです。これによって、Material-UI標準のクラス名も短縮されるようになります。\n\u003ccode\u003eproductionPrefix\u003c/code\u003e はクラス名のプレフィックスで、初期値は \u003ccode\u003ejss\u003c/code\u003e です。今回は、より短くするために、1文字の \u003ccode\u003ec\u003c/code\u003e を指定しました。それによって、クラス名が \u003ccode\u003ec10\u003c/code\u003e のようになります。\u003c/p\u003e\n\u003cp\u003e次はクライアント側、\u003ccode\u003e_app.tsx\u003c/code\u003e です。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e// pages/_app.tsx\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { StylesProvider } from '@material-ui/core/styles'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { getGenerateClassName } from '../src/styles'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+const generateClassName = getGenerateClassName()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e export default function MyApp(props: AppProps) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   return (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+    \u0026#x3C;StylesProvider generateClassName={generateClassName}\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026#x3C;Head\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026#x3C;title\u003eMy page\u0026#x3C;/title\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026#x3C;meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width\" /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026#x3C;/Head\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026#x3C;ThemeProvider theme={theme}\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026#x3C;CssBaseline /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026#x3C;Component {...pageProps} /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026#x3C;/ThemeProvider\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+    \u0026#x3C;/StylesProvider\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eコンテンツを \u003ccode\u003e\u0026#x3C;StylesProvider /\u003e\u003c/code\u003e で囲み、生成した \u003ccode\u003egenerateClassName\u003c/code\u003e をpropsに渡してください。\nポイントは、\u003ccode\u003egenerateClassName\u003c/code\u003e の生成は1回だけ行うことです。今回のコードでは、コンポーネントの外に出しています。\u003c/p\u003e\n\u003cp\u003e続いてサーバー側、\u003ccode\u003e_document.tsx\u003c/code\u003eです。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e// pages/_document.tsx\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { getGenerateClassName } from '../src/styles'\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e MyDocument.getInitialProps = async (ctx) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #CE9178\"\u003e-  const sheets = new ServerStyleSheets()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+  const serverGenerateClassName = getGenerateClassName()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+  const sheets = new ServerStyleSheets({ serverGenerateClassName })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003egenerateClassName\u003c/code\u003e を生成し、\u003ccode\u003eServerStyleSheets\u003c/code\u003e の引数に渡します。\nポイントは、クライアント側と違い、パラメータ名が \u003ccode\u003eserverGenerateClassName\u003c/code\u003e になっていることと、\u003ccode\u003egetInitialProps\u003c/code\u003e で \u003ccode\u003egenerateClassName\u003c/code\u003e を生成、つまりアクセスの度に生成し直している所です。\u003c/p\u003e\n\u003cp\u003e上記の設定により、Material-UI標準のコンポーネントのクラス名が、短縮されるようになります。\u003c/p\u003e\n\u003ch2\u003e最後に\u003c/h2\u003e\n\u003cp\u003e供養完了です。\nMUI v5でもできる方法があれば教えて下さい。\u003c/p\u003e"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"mui-generate-class-name"},"buildId":"lh3cR4sfn29ycpwauoObM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>