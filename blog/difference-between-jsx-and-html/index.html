<!DOCTYPE html><html lang="ja-JP" prefix="og: http://ogp.me/ns#"><head><script src="https://www.googletagmanager.com/gtag/js?id=UA-74494516-4" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-74494516-4")</script><link href="/bundle.51ccbbe228.js" rel="preload" as="script"><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="ie=edge" http-equiv="X-UA-Compatible"><title>HTMLでは使えないJSX独自の書き方 - Tech SANDBOX</title><style>
  body{font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-weight:300;font-size:16px;margin:0;padding:0}a{text-decoration:none;color:#108db8;font-weight:700}h2{border-bottom:1px solid #6c6c6c;border-right:1px solid #6c6c6c;padding-left:.5em}.App{display:flex;flex-direction:column;min-height:100vh}.content{flex:1;box-sizing:border-box;width:100%;max-width:700px;padding:0 1rem;margin:2rem auto}.Header{background:#108db8;box-shadow:0 5px 15px -5px rgba(0,0,0,.8)}.Header-title{margin:0;padding:1rem;text-align:center}.Header-title a{color:#fff}.PostTags,.PostTags-li{display:inline;padding:0;margin:0}.PostTags-Link{color:#6c6c6c}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}pre[class*=language-]{background:#f5f2f0}.token.comment{color:#708090}.token.punctuation{color:#999}.token.constant,.token.tag{color:#905}.token.attr-name{color:#690}.token.operator{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}
</style>
<link href="/bundle.51ccbbe228.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link href="/bundle.51ccbbe228.css" rel="stylesheet"></noscript>
<script>!function(n){"use strict";n.loadCSS||(n.loadCSS=function(){});var o=loadCSS.relpreload={};if(o.support=function(){var e;try{e=n.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),o.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},o.poly=function(){if(!o.support())for(var t=n.document.getElementsByTagName("link"),e=0;e<t.length;e++){var a=t[e];"preload"!==a.rel||"style"!==a.getAttribute("as")||a.getAttribute("data-loadcss")||(a.setAttribute("data-loadcss",!0),o.bindMediaToggle(a))}},!o.support()){o.poly();var t=n.setInterval(o.poly,500);n.addEventListener?n.addEventListener("load",function(){o.poly(),n.clearInterval(t)}):n.attachEvent&&n.attachEvent("onload",function(){o.poly(),n.clearInterval(t)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:n.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script><meta content="HTMLとReact JSXの書き方の違いでハマったポイントをまとめた。" name="description"><meta content="HTMLでは使えないJSX独自の書き方 - Tech SANDBOX" property="og:title"><meta content="article" property="og:type"><meta content="HTMLとReact JSXの書き方の違いでハマったポイントをまとめた。" property="og:description"><meta content="https://imasanari.github.io/blog/difference-between-jsx-and-html/" property="og:url"><meta content="https://imasanari.github.io/images/icon.jpg" property="og:image"><meta content="summary" name="twitter:card"></head><body><div class="App"><header class="Header"><h1 class="Header-title"><a href="/">Tech SANDBOX</a></h1></header><div class="content"><div><article><span>2018-08-13</span><h1>HTMLでは使えないJSX独自の書き方</h1><ul class="PostTags"><li class="PostTags-li"><a href="/tags/React/" class="PostTags-Link"> #React</a></li></ul><div><h2>はじめに</h2><p>業務でHTML（Javaのjsp）を書いている時、select要素の初期値をReactのJSXの感覚で書いたら動かなかった。HTMLとJSXとでは書き方が違ったのだ。</p><h2>select要素</h2><p>ReactのJSXでは、select要素のvalue属性にその値を入れることでの初期値を決めることができる。</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function function-variable">Component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token constant">FOO</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token constant">BAR</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
</code></pre><p>一方HTMLでは、初期値にするoption要素へselected属性を指定する必要がある。</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>FOO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name">selected</span><span class="token punctuation">></span></span>BAR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
</code></pre><h2>閉じタグ</h2><p>JSXでは閉じタグは省略できないが、HTMLでは、省略できる要素がある。</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- JSXでは文法エラー --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>foo
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>bar
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
</code></pre><p>一方で空要素は、JSXでは全てのタグで<code>&lt;div /&gt;</code>と終了タグを省略できるが、HTMLでは<code>&lt;img /&gt;</code>のような必ず空要素のタグでしか省略することができない。</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- HTMLでは正しくパースされない --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/bundle.js<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</code></pre></div></article><div class="PostPager"><div class="PostPager-item"><a href="/blog/wasm-bindgen-with-worker/">Rust + wasm-bindgen + WebWorkerの環境構築</a></div><div class="PostPager-item"><a href="/">HOME</a></div><div class="PostPager-item"><a href="/blog/environment-construction/">私の必要最低限な環境構築</a></div></div><aside><div class="AsidePosts-title">同じタグを含む記事</div><ul class="PostTags"><li class="PostTags-li"><a href="/tags/React/" class="PostTags-Link"> #React</a></li></ul><ul class="shared-reset AsidePosts-ul"><li class="shared-reset AsidePosts-li"><a href="/blog/use-technology/">ブログで使用した技術</a><ul class="PostTags"><li class="PostTags-li"><a href="/tags/React/" class="PostTags-Link"> #React</a></li></ul></li></ul></aside></div></div><footer class="Footer"><p>Author: <a href="https://github.com/iMasanari">iMasanari</a></p><small><a href="https://github.com/iMasanari/imasanari.github.io/">&gt; Blog Repository &lt;</a></small></footer></div><script>var __data={component:1,title:"HTMLでは使えないJSX独自の書き方 - Tech SANDBOX",props:{post:{title:"HTMLでは使えないJSX独自の書き方",description:"HTMLとReact JSXの書き方の違いでハマったポイントをまとめた。",slug:"difference-between-jsx-and-html",tags:["React"],date:"2018-08-13",contents:"<h2>はじめに</h2><p>業務でHTML（Javaのjsp）を書いている時、select要素の初期値をReactのJSXの感覚で書いたら動かなかった。HTMLとJSXとでは書き方が違ったのだ。</p><h2>select要素</h2><p>ReactのJSXでは、select要素のvalue属性にその値を入れることでの初期値を決めることができる。</p><pre class=language-jsx><code class=language-jsx><span class='token keyword'>const</span> <span class='token function function-variable'>Component</span> <span class='token operator'>=</span> <span class='token punctuation'>(</span><span class='token punctuation'>)</span> <span class='token operator'>=></span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>select</span> <span class='token attr-name'>value</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>bar<span class='token punctuation'>\"</span></span><span class='token punctuation'>></span></span>\n    <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>option</span> <span class='token attr-name'>value</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>foo<span class='token punctuation'>\"</span></span><span class='token punctuation'>></span></span><span class='token constant'>FOO</span><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>option</span><span class='token punctuation'>></span></span>\n    <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>option</span> <span class='token attr-name'>value</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>bar<span class='token punctuation'>\"</span></span><span class='token punctuation'>></span></span><span class='token constant'>BAR</span><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>option</span><span class='token punctuation'>></span></span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>select</span><span class='token punctuation'>></span></span>\n</code></pre><p>一方HTMLでは、初期値にするoption要素へselected属性を指定する必要がある。</p><pre class=language-html><code class=language-html><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>select</span><span class='token punctuation'>></span></span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>option</span> <span class='token attr-name'>value</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>foo<span class='token punctuation'>\"</span></span><span class='token punctuation'>></span></span>FOO<span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>option</span><span class='token punctuation'>></span></span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>option</span> <span class='token attr-name'>value</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>bar<span class='token punctuation'>\"</span></span> <span class='token attr-name'>selected</span><span class='token punctuation'>></span></span>BAR<span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>option</span><span class='token punctuation'>></span></span>\n<span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>select</span><span class='token punctuation'>></span></span>\n</code></pre><h2>閉じタグ</h2><p>JSXでは閉じタグは省略できないが、HTMLでは、省略できる要素がある。</p><pre class=language-html><code class=language-html><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>ul</span><span class='token punctuation'>></span></span>\n  <span class='token comment'>&lt;!-- JSXでは文法エラー --\x3e</span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>li</span><span class='token punctuation'>></span></span><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>p</span><span class='token punctuation'>></span></span>foo\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>li</span><span class='token punctuation'>></span></span><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>p</span><span class='token punctuation'>></span></span>bar\n<span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>ul</span><span class='token punctuation'>></span></span>\n</code></pre><p>一方で空要素は、JSXでは全てのタグで<code>&lt;div /&gt;</code>と終了タグを省略できるが、HTMLでは<code>&lt;img /&gt;</code>のような必ず空要素のタグでしか省略することができない。</p><pre class=language-html><code class=language-html><span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>body</span><span class='token punctuation'>></span></span>\n  <span class='token comment'>&lt;!-- HTMLでは正しくパースされない --\x3e</span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>div</span> <span class='token attr-name'>id</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>app<span class='token punctuation'>\"</span></span> <span class='token punctuation'>/></span></span>\n  <span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;</span>script</span> <span class='token attr-name'>src</span><span class='token attr-value'><span class='token punctuation'>=</span><span class='token punctuation'>\"</span>/bundle.js<span class='token punctuation'>\"</span></span> <span class='token punctuation'>/></span></span>\n<span class='token tag'><span class='token tag'><span class='token punctuation'>&lt;/</span>body</span><span class='token punctuation'>></span></span>\n</code></pre>"},prev:{title:"Rust + wasm-bindgen + WebWorkerの環境構築",slug:"wasm-bindgen-with-worker"},next:{title:"私の必要最低限な環境構築",slug:"environment-construction"},sameTags:[{title:"ブログで使用した技術",slug:"use-technology",date:"2018-06-30",tags:["blog","React","preact","TypeScript","ReactStatic"]}]}}</script><script src="/bundle.51ccbbe228.js"></script></body></html>