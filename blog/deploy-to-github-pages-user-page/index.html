<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74494516-4"></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-74494516-4', {
  page_path: window.location.pathname,
});
</script><meta name="google-site-verification" content="UmWq3FQLg72H6H0Tlk-SFR9f0bSBsvC8nDmxtK3-qMc" /><meta name="next-font-preconnect" /><meta name="viewport" content="width=device-width" /><meta charSet="utf-8" /><title>GitHub PagesのUser Pageにdistフォルダをデプロイする | Tech SANDBOX</title><meta name="description" content="User Pageにはmasterブランチしか指定できないようです。そこに任意のフォルダの中身をデプロイする方法を書きました。" /><meta property="og:title" content="GitHub PagesのUser Pageにdistフォルダをデプロイする" /><meta property="og:description" content="User Pageにはmasterブランチしか指定できないようです。そこに任意のフォルダの中身をデプロイする方法を書きました。" /><meta property="og:type" content="article" /><meta property="og:url" content="https://imasanari.github.io/blog/deploy-to-github-pages-user-page/" /><meta property="og:image" content="https://imasanari.github.io/images/icon.jpg" /><meta property="og:site_name" content="Tech SANDBOX" /><meta name="twitter:card" content="summary" /><meta name="next-head-count" content="11" /><link rel="amphtml" href="/blog/deploy-to-github-pages-user-page.amp" /><noscript data-n-css></noscript><script defer noModule src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer></script><script src="/_next/static/chunks/framework-99e312cfb7dcf1fad3b6.js" defer></script><script src="/_next/static/chunks/main-954eafc91ecd5de4a70b.js" defer></script><script src="/_next/static/chunks/pages/_app-2e2bea96e02645a3a15f.js" defer></script><script src="/_next/static/chunks/670-a2700d6f91d45df1d033.js" defer></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-6b2fcb1d1760a07d19a6.js" defer></script><script src="/_next/static/PnElu_33CnQAyEEEfU9mg/_buildManifest.js" defer></script><script src="/_next/static/PnElu_33CnQAyEEEfU9mg/_ssgManifest.js" defer></script><style data-emotion="c-global 15yblv4">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="c 1j2cbpl g7fid7 1ff36h2 1x6wkub 1qeofn3 wb6uyc rntpfg up73zk zjuml4 1dmadst vubbuv 191lty2 1qsxih2 1yjvs5a 1n6wxgb 1qh3bxa 16n8wpk 9txlqf 1ihubty 1772xtw 1bbvdb4 chkhw5 1ugattu y25xid 35e4su x8nsji cbw5c6 x4at48 1aue7hj nkh4ut q1nw06 1hdf6gm 1hbvs7c 1d3ah2d fnf71d 1j6il5h">.c-1j2cbpl{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#f5f5f5;color:rgba(0, 0, 0, 0.87);}@media print{.c-1j2cbpl{position:absolute;}}.c-g7fid7{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:56px;}@media (min-width:600px){.c-g7fid7{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-g7fid7{max-width:1200px;}}@media (min-width:0px) and (orientation: landscape){.c-g7fid7{min-height:48px;}}@media (min-width:600px){.c-g7fid7{min-height:64px;}}.c-1ff36h2{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.c-1x6wkub{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.25rem;line-height:1.6;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.c-1qeofn3{margin:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.c-wb6uyc{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}@media (min-width:0px){.c-rntpfg{display:none;}}@media (min-width:600px){.c-rntpfg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.c-up73zk{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;margin-left:24px;-webkit-text-decoration:underline;text-decoration:underline;}.c-up73zk:hover{text-decoration-color:inherit;}@media (min-width:0px){.c-zjuml4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (min-width:600px){.c-zjuml4{display:none;}}.c-1dmadst{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-right:-12px;color:inherit;padding:12px;font-size:1.75rem;}.c-1dmadst::-moz-focus-inner{border-style:none;}.c-1dmadst.Mui-disabled{pointer-events:none;cursor:default;}@media print{.c-1dmadst{-webkit-print-color-adjust:exact;color-adjust:exact;}}.c-1dmadst:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.c-1dmadst:hover{background-color:transparent;}}.c-1dmadst.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.c-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}.c-191lty2{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.c-191lty2{padding-left:24px;padding-right:24px;}}@media (min-width:0px) and (orientation: landscape){.c-191lty2{min-height:48px;}}@media (min-width:600px){.c-191lty2{min-height:64px;}}.c-1qsxih2{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.c-1qsxih2{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-1qsxih2{max-width:1200px;}}.c-1yjvs5a{margin-bottom:32px;}.c-1n6wxgb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:8px 0px;}.c-1qh3bxa{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;margin-right:4px;}.c-16n8wpk{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;}.c-9txlqf{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;margin-left:16px;margin-right:4px;}.c-1ihubty{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.5rem;line-height:1.334;margin-bottom:0.35em;}.c-1772xtw{padding:0;margin:0;}.c-1bbvdb4{display:inline;padding:0;margin:0;}.c-chkhw5{margin:0;color:rgba(0, 0, 0, 0.6);-webkit-text-decoration:none;text-decoration:none;}.c-chkhw5:hover{-webkit-text-decoration:underline;text-decoration:underline;}.c-1ugattu{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:2.125rem;line-height:1.235;margin-top:32px;margin-bottom:32px;border-bottom:1px solid currentcolor;}.c-y25xid{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-top:16px;margin-bottom:16px;text-align:justify;white-space:pre-line;}.c-35e4su{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;}pre>.c-35e4su{padding:0;background-color:transparent;}.c-x8nsji{margin:0;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-x8nsji:hover{text-decoration-color:inherit;}.c-cbw5c6{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;word-break:break-all;}pre>.c-cbw5c6{padding:0;background-color:transparent;}.c-x4at48{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-top:16px;margin-bottom:16px;overflow:auto;padding:8px 32px;}.c-1aue7hj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;margin:32px 0px;}.c-nkh4ut{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:0;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.c-q1nw06{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-q1nw06:hover{text-decoration-color:inherit;}.c-1hdf6gm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;border-left:1px solid #6c6c6c;border-right:1px solid #6c6c6c;}.c-1hbvs7c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-right:0;}.c-1d3ah2d{text-align:center;margin:32px 0px;}.c-fnf71d{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-bottom:0.35em;}.c-1j6il5h{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-1j6il5h:hover{text-decoration-color:inherit;}</style></head><body><div id="__next"><header amp-fx="float-in-top" class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation1 MuiAppBar-root MuiAppBar-colorDefault MuiAppBar-positionFixed mui-fixed c-1j2cbpl"><div class="MuiContainer-root MuiContainer-maxWidthLg MuiToolbar-root MuiToolbar-regular c-g7fid7"><div class="c-1ff36h2"><div class="MuiTypography-root MuiTypography-h6 MuiTypography-noWrap c-1x6wkub"><a href="/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone c-1qeofn3">Tech SANDBOX</a></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-noWrap c-wb6uyc">技術ブログ改め、Qiitaの下書き</p></div><nav class="MuiBox-root c-rntpfg"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">Blog</a><a href="https://github.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">GitHub</a><a href="https://qiita.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-up73zk">Qiita</a></nav><div class="MuiBox-root c-zjuml4"><button tabIndex="0" type="button" aria-label="menu" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeEnd MuiIconButton-sizeLarge c-1dmadst"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="MenuIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium c-vubbuv"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button></div></div></header><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular c-191lty2"></div><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><article><div class="MuiBox-root c-1yjvs5a"><header><div class="c-1n6wxgb"><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2018-07-01T15:11:38.719Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2018-07-01</time><svg focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-testid="EditIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-9txlqf"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg><time dateTime="2018-07-02T13:49:48.876Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2018-07-02</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty">GitHub PagesのUser Pageにdistフォルダをデプロイする</h1><ul class="c-1772xtw"> <li class="c-1bbvdb4"><a href="/tags/GitHubPages/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-chkhw5">#GitHubPages</a></li></ul></header></div><main><h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">User Pageにはmasterブランチしか指定できない</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">みたいです。
しかもルート指定もできないようです。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">GitHubは今までProject Pageしか使っていなかったので、<code class="c-35e4su">gh-pages</code>ブランチを指定できず焦りました。
というわけでググります。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">どうやらmasterを殺せばいいらしい</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">このQiitaの記事を参考に作業していきます。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><a href="https://qiita.com/kwappa/items/03ffdeb89039a7249619" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">GitHub PagesのUser Pagesでドキュメントルートを変更するにはmasterを殺す</a></p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-cbw5c6">master</code>ブランチを削除して、指定フォルダをsubtreeとしてpushするらしいです。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">手順通りに作業し、残るはpushのみ…</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #D4D4D4;">$ git subtree push --prefix dist/ origin master</span></span>
<span class="line"><span style="color: #D4D4D4;">git push using:  origin master</span></span>
<span class="line"><span style="color: #D4D4D4;">No new revisions were found</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">はい、うまくいかず！
<code class="c-cbw5c6">master</code>ブランチは追加されませんでした。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-35e4su">No new revisions were found</code>を読むと、更新ファイルが無いとのことらしいです。<code class="c-cbw5c6">dist</code>フォルダを<code class="c-35e4su">.gitignore</code>しているのが原因でしょう。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">gh-pagesに頼る</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-cbw5c6">dist</code>フォルダを開発のgit管理に入れたくないし、だからと言ってデプロイのたびに<code class="c-35e4su">add -f</code>していくのは面倒です。
なので、<a href="https://github.com/tschaub/gh-pages" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">gh-pages</a>で<code class="c-cbw5c6">master</code>にデプロイできるか試してみます。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">調べてみると、どうやらブランチを指定するオプションは<code class="c-35e4su">-b</code>(<code class="c-35e4su">--branch</code>)のようです。
実は<code class="c-35e4su">gh-pages</code>ブランチにpushした時はこれを使ったんですけど、subtreeをpushする方法を調べた時にアンインストールしてしまっていたんですね。
再インストールして、以下のコマンドを叩きます。</p>
<pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki c-x4at48"><code class="c-35e4su"><span class="line"><span style="color: #D4D4D4;">$ npx gh-pages -d dist -b master</span></span>
<span class="line"></span></code></pre>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">これで無事デプロイが完了しました！</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">まとめ</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">gitにはsubtreeという機能がある。
でも<code class="c-35e4su">.gitignore</code>が優先されてしまう。
<a href="https://github.com/tschaub/gh-pages" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">gh-pages</a>が超便利！</p></main></article><ul class="c-1aue7hj"><li class="c-nkh4ut"><a href="/blog/use-technology/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-q1nw06">ブログで使用した技術</a></li><li class="c-1hdf6gm"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-q1nw06">HOME</a></li><li class="c-1hbvs7c"><a href="/blog/webpacks-rules-in-static-config-js/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-q1nw06">React StaticでTypeScriptを使用した時のエラー対処法</a></li></ul></div><footer class="c-1d3ah2d"><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom c-fnf71d">Author: <a href="https://github.com/iMasanari" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-x8nsji">iMasanari</a></p><a href="https://github.com/iMasanari/imasanari.github.io/" class="MuiTypography-root MuiTypography-body2 MuiLink-root MuiLink-underlineAlways c-1j6il5h">Show on GitHub</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"GitHub PagesのUser Pageにdistフォルダをデプロイする","description":"User Pageにはmasterブランチしか指定できないようです。そこに任意のフォルダの中身をデプロイする方法を書きました。","slug":"deploy-to-github-pages-user-page","tags":["GitHubPages"],"date":"2018-07-01T15:11:38.719Z","update":"2018-07-02T13:49:48.876Z"},"next":{"title":"React StaticでTypeScriptを使用した時のエラー対処法","description":"static.config.jsのwebpack設定を変更することで起こるエラーの対処法。","slug":"webpacks-rules-in-static-config-js","tags":["ReactStatic","TypeScript","webpack"],"date":"2018-07-03T11:47:13.910Z"},"prev":{"title":"ブログで使用した技術","description":"この技術ブログで使用したライブラリやツールを紹介していきます。選定理由についても書きました。","slug":"use-technology","tags":["blog","React","preact","TypeScript","ReactStatic"],"date":"2018-06-30T14:52:29.225Z","update":"2019-04-20T13:15:27.878Z"},"sameTags":[],"content":"\u003ch2\u003eUser Pageにはmasterブランチしか指定できない\u003c/h2\u003e\n\u003cp\u003eみたいです。\nしかもルート指定もできないようです。\u003c/p\u003e\n\u003cp\u003eGitHubは今までProject Pageしか使っていなかったので、\u003ccode\u003egh-pages\u003c/code\u003eブランチを指定できず焦りました。\nというわけでググります。\u003c/p\u003e\n\u003ch2\u003eどうやらmasterを殺せばいいらしい\u003c/h2\u003e\n\u003cp\u003eこのQiitaの記事を参考に作業していきます。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://qiita.com/kwappa/items/03ffdeb89039a7249619\"\u003eGitHub PagesのUser Pagesでドキュメントルートを変更するにはmasterを殺す\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003emaster\u003c/code\u003eブランチを削除して、指定フォルダをsubtreeとしてpushするらしいです。\u003c/p\u003e\n\u003cp\u003e手順通りに作業し、残るはpushのみ…\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e$ git subtree push --prefix dist/ origin master\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003egit push using:  origin master\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003eNo new revisions were found\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eはい、うまくいかず！\n\u003ccode\u003emaster\u003c/code\u003eブランチは追加されませんでした。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eNo new revisions were found\u003c/code\u003eを読むと、更新ファイルが無いとのことらしいです。\u003ccode\u003edist\u003c/code\u003eフォルダを\u003ccode\u003e.gitignore\u003c/code\u003eしているのが原因でしょう。\u003c/p\u003e\n\u003ch2\u003egh-pagesに頼る\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003edist\u003c/code\u003eフォルダを開発のgit管理に入れたくないし、だからと言ってデプロイのたびに\u003ccode\u003eadd -f\u003c/code\u003eしていくのは面倒です。\nなので、\u003ca href=\"https://github.com/tschaub/gh-pages\"\u003egh-pages\u003c/a\u003eで\u003ccode\u003emaster\u003c/code\u003eにデプロイできるか試してみます。\u003c/p\u003e\n\u003cp\u003e調べてみると、どうやらブランチを指定するオプションは\u003ccode\u003e-b\u003c/code\u003e(\u003ccode\u003e--branch\u003c/code\u003e)のようです。\n実は\u003ccode\u003egh-pages\u003c/code\u003eブランチにpushした時はこれを使ったんですけど、subtreeをpushする方法を調べた時にアンインストールしてしまっていたんですね。\n再インストールして、以下のコマンドを叩きます。\u003c/p\u003e\n\u003cpre class=\"shiki\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e$ npx gh-pages -d dist -b master\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eこれで無事デプロイが完了しました！\u003c/p\u003e\n\u003ch2\u003eまとめ\u003c/h2\u003e\n\u003cp\u003egitにはsubtreeという機能がある。\nでも\u003ccode\u003e.gitignore\u003c/code\u003eが優先されてしまう。\n\u003ca href=\"https://github.com/tschaub/gh-pages\"\u003egh-pages\u003c/a\u003eが超便利！\u003c/p\u003e"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"deploy-to-github-pages-user-page"},"buildId":"PnElu_33CnQAyEEEfU9mg","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>