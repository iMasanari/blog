<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8" /><meta name="viewport" content="width=device-width" /><title>Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法 | Tech SANDBOX</title><meta name="description" content="Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。" /><meta property="og:title" content="Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法 | Tech SANDBOX" /><meta property="og:description" content="Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。" /><meta property="og:type" content="article" /><meta property="og:url" content="https://blog.imasanari.dev/posts/mui-generate-class-name/" /><meta property="og:image" content="https://blog.imasanari.dev/images/icon.jpg" /><meta property="og:site_name" content="Tech SANDBOX" /><meta name="twitter:card" content="summary" /><link rel="canonical" href="https://blog.imasanari.dev/posts/mui-generate-class-name/" /><meta name="next-head-count" content="12" /><meta charSet="utf-8" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74494516-4"></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-74494516-4', {
  page_path: window.location.pathname,
});
</script><meta name="google-site-verification" content="UmWq3FQLg72H6H0Tlk-SFR9f0bSBsvC8nDmxtK3-qMc" /><meta name="next-font-preconnect" /><link rel="amphtml" href="/posts/mui-generate-class-name.amp" /><noscript data-n-css></noscript><script defer noModule src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer></script><script src="/_next/static/chunks/framework-87de859329548650.js" defer></script><script src="/_next/static/chunks/main-57e0caef5105ecf3.js" defer></script><script src="/_next/static/chunks/pages/_app-abe3a7dac505e72c.js" defer></script><script src="/_next/static/chunks/103-7d09385169f027a1.js" defer></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-067b1525f8c1d9d7.js" defer></script><script src="/_next/static/j9pN2qkinOzmCeAXbpeMz/_buildManifest.js" defer></script><script src="/_next/static/j9pN2qkinOzmCeAXbpeMz/_ssgManifest.js" defer></script><style data-emotion="c-global 15yblv4">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="c 1kyvigp 1ghlunn i9gxme 1x6wkub 1tqdl5x wb6uyc rntpfg 3zeruj zjuml4 1dmadst vubbuv i6s8oy 1qsxih2 1yjvs5a 1n6wxgb 1qh3bxa 16n8wpk 1ihubty ntfpy7 1vaygba 1f5kc47 y25xid 1ugattu 14rm9aa vlahzl 1lky7cb 1yipi07 1k33q06 12ogyw6 ceho3e 1f8td17 1aue7hj 1sl6rns f7hjxq 1bhrv1p mpp38z ze4krk 1jnynlu 1rvtlej 116qoqd 15kjgm 1d3ah2d fnf71d 19fxvs2">.c-1kyvigp{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#f5f5f5;color:rgba(0, 0, 0, 0.87);overflow:hidden;}@media print{.c-1kyvigp{position:absolute;}}.c-1ghlunn{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:56px;}@media (min-width:600px){.c-1ghlunn{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-1ghlunn{max-width:1200px;}}@media (min-width:0px){@media (orientation: landscape){.c-1ghlunn{min-height:48px;}}}@media (min-width:600px){.c-1ghlunn{min-height:64px;}}.c-i9gxme{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.c-1x6wkub{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.25rem;line-height:1.6;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.c-1tqdl5x{margin:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;color:inherit;}.c-wb6uyc{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}@media (min-width:0px){.c-rntpfg{display:none;}}@media (min-width:600px){.c-rntpfg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.c-3zeruj{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;margin-left:24px;-webkit-text-decoration:underline;text-decoration:underline;color:inherit;}.c-3zeruj:hover{text-decoration-color:inherit;}@media (min-width:0px){.c-zjuml4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (min-width:600px){.c-zjuml4{display:none;}}.c-1dmadst{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-right:-12px;color:inherit;padding:12px;font-size:1.75rem;}.c-1dmadst::-moz-focus-inner{border-style:none;}.c-1dmadst.Mui-disabled{pointer-events:none;cursor:default;}@media print{.c-1dmadst{-webkit-print-color-adjust:exact;color-adjust:exact;}}.c-1dmadst:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.c-1dmadst:hover{background-color:transparent;}}.c-1dmadst.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.c-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}.c-i6s8oy{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.c-i6s8oy{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.c-i6s8oy{min-height:48px;}}}@media (min-width:600px){.c-i6s8oy{min-height:64px;}}.c-1qsxih2{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.c-1qsxih2{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.c-1qsxih2{max-width:1200px;}}.c-1yjvs5a{margin-bottom:32px;}.c-1n6wxgb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:8px 0px;}.c-1qh3bxa{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;margin-right:4px;}.c-16n8wpk{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;}.c-1ihubty{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.5rem;line-height:1.334;margin-bottom:0.35em;}.c-ntfpy7{padding:0;margin:0;}.c-1vaygba{display:inline;padding:0;margin:0;}.c-1f5kc47{margin:0;color:rgba(0, 0, 0, 0.6);-webkit-text-decoration:none;text-decoration:none;}.c-1f5kc47:hover{-webkit-text-decoration:underline;text-decoration:underline;}.c-y25xid{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-top:16px;margin-bottom:16px;text-align:justify;white-space:pre-line;}.c-1ugattu{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:2.125rem;line-height:1.235;margin-top:32px;margin-bottom:32px;border-bottom:1px solid currentcolor;}.c-14rm9aa{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);margin-top:16px;margin-bottom:16px;}.c-vlahzl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 32px;border-top-right-radius:5px;border-top-left-radius:5px;background-color:#555;color:white;}.c-1lky7cb{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;}.c-1yipi07{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding:5px;font-size:1.125rem;color:white;}.c-1yipi07::-moz-focus-inner{border-style:none;}.c-1yipi07.Mui-disabled{pointer-events:none;cursor:default;}@media print{.c-1yipi07{-webkit-print-color-adjust:exact;color-adjust:exact;}}.c-1yipi07:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.c-1yipi07:hover{background-color:transparent;}}.c-1yipi07.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}.c-1k33q06{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.25rem;}.c-12ogyw6{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;overflow:auto;padding:8px 32px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;}.c-ceho3e{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;}pre>.c-ceho3e{padding:0;background-color:transparent;}.c-1f8td17{padding:4px 8px;border-radius:4px;background-color:#1e1e1e;color:#d4d4d4;font-family:"SFMono-Regular",Consolas,Menlo,Courier,monospace,monospace;font-size:0.9em;word-break:break-all;}pre>.c-1f8td17{padding:0;background-color:transparent;}.c-1aue7hj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;margin:32px 0px;}.c-1sl6rns{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-left:0;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.c-f7hjxq{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-f7hjxq:hover{text-decoration-color:inherit;}.c-1bhrv1p{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;border-left:1px solid #6c6c6c;border-right:1px solid #6c6c6c;}.c-mpp38z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;margin:0;-webkit-flex:1;-ms-flex:1;flex:1;padding-right:0;}.c-ze4krk{margin:32px auto;}.c-1jnynlu{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1.5rem;line-height:1.334;}.c-1rvtlej{list-style:none;padding:0;margin:0;}.c-116qoqd{padding:16px 24px;margin:16px 0px;border:1px solid #bbb;}.c-15kjgm{margin:0;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-15kjgm:hover{text-decoration-color:inherit;}.c-1d3ah2d{text-align:center;margin:32px 0px;}.c-fnf71d{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:1rem;line-height:1.5;margin-bottom:0.35em;}.c-19fxvs2{margin:0;font-family:游ゴシック体,YuGothic,游ゴシック,Yu Gothic,メイリオ,sans-serif;font-weight:500;font-size:0.875rem;line-height:1.43;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.c-19fxvs2:hover{text-decoration-color:inherit;}</style></head><body><div id="__next"><header amp-fx="float-in-top" class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation1 MuiAppBar-root MuiAppBar-colorDefault MuiAppBar-positionFixed mui-fixed c-1kyvigp"><div class="MuiContainer-root MuiContainer-maxWidthLg MuiToolbar-root MuiToolbar-regular c-1ghlunn"><div class="c-i9gxme"><div class="MuiTypography-root MuiTypography-h6 MuiTypography-noWrap c-1x6wkub"><a href="/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone c-1tqdl5x">Tech SANDBOX</a></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-noWrap c-wb6uyc">技術ブログ改め、Qiitaの下書き</p></div><nav class="MuiBox-root c-rntpfg"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-3zeruj">Blog</a><a href="https://github.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-3zeruj">GitHub</a><a href="https://qiita.com/iMasanari" target="_blank" rel="noopener" class="MuiTypography-root MuiTypography-body1 MuiTypography-noWrap MuiLink-root MuiLink-underlineAlways c-3zeruj">Qiita</a></nav><div class="MuiBox-root c-zjuml4"><button tabIndex="0" type="button" aria-label="menu" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeEnd MuiIconButton-sizeLarge c-1dmadst"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="MenuIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium c-vubbuv"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button></div></div></header><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular c-i6s8oy"></div><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><article><div class="MuiBox-root c-1yjvs5a"><header><div class="c-1n6wxgb"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2021-10-11T16:40:23.602Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2021-10-11</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty">Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法</h1><ul class="c-ntfpy7"> <li class="c-1vaygba"><a href="/tags/MUI/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#MUI</a></li> <li class="c-1vaygba"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#Next.js</a></li></ul></header></div><main><p class="MuiTypography-root MuiTypography-body1 c-y25xid">Qiitaに投稿予定でしたが、MUI（Material-UI）がv5になってこの方法が非対応になってしまったので、このブログで供養します。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">Material-UIのクラス名長い問題</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">長くないですか？
下記は、Next.jsとMaterial-UIを組み合わせたexampleのコードです。実際にSSR/SSGしてみましょう。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb"></span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #C586C0;">export</span><span style="color: #D4D4D4;"> </span><span style="color: #C586C0;">default</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">function</span><span style="color: #D4D4D4;"> </span><span style="color: #DCDCAA;">Index</span><span style="color: #D4D4D4;">() {</span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #C586C0;">return</span><span style="color: #D4D4D4;"> (</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Container</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">maxWidth</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;sm&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">      </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Box</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">my</span><span style="color: #D4D4D4;">=</span><span style="color: #569CD6;">{</span><span style="color: #B5CEA8;">4</span><span style="color: #569CD6;">}</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Typography</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">variant</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;h4&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">component</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;h1&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">gutterBottom</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">          Next.js with TypeScript example</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Typography</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Link</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">color</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;secondary&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">          Go to the about page</span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Link</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">ProTip</span><span style="color: #D4D4D4;"> </span><span style="color: #808080;">/></span></span>
<span class="line"><span style="color: #D4D4D4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #4EC9B0;">Copyright</span><span style="color: #D4D4D4;"> </span><span style="color: #808080;">/></span></span>
<span class="line"><span style="color: #D4D4D4;">      </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Box</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #4EC9B0;">Container</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">  )</span></span>
<span class="line"><span style="color: #D4D4D4;">}</span></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-ceho3e">MuiContainerroot-0-1-1</code>のように、長いクラス名（しかも1つの要素に複数のクラス）になります。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb"></span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiContainerroot-0-1-1 MuiContainermaxWidthSm-0-1-5&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiBoxroot-0-1-9 MuiBoxroot-0-1-10&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">h1</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 MuiTypographyh4-0-1-19 MuiTypographygutterBottom-0-1-31&quot;</span><span style="color: #808080;">></span><span style="color: #D4D4D4;">Next.js with TypeScript example</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">h1</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">a</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 MuiLinkroot-0-1-41 MuiLinkunderlineHover-0-1-43 MuiTypographycolorSecondary-0-1-35&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #808080;">></span><span style="color: #D4D4D4;">Go to the about page</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">a</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">p</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;MuiTypographyroot-0-1-11 makeStylesroot-0-1-47 MuiTypographybody1-0-1-13 MuiTypographycolorTextSecondary-0-1-37&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #6A9955;">&lt;!-- ...(略) --></span></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">この記事で紹介する設定を行えば、<code class="c-1f8td17">production</code>設定のビルドで下記のようになります。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb"></span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c1 c5&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">div</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c9 c10&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">h1</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c19 c31&quot;</span><span style="color: #808080;">></span><span style="color: #D4D4D4;">Next.js with TypeScript example</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">h1</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">a</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c41 c43 c35&quot;</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">href</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;/about&quot;</span><span style="color: #808080;">></span><span style="color: #D4D4D4;">Go to the about page</span><span style="color: #808080;">&lt;/</span><span style="color: #569CD6;">a</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #808080;">&lt;</span><span style="color: #569CD6;">p</span><span style="color: #D4D4D4;"> </span><span style="color: #9CDCFE;">class</span><span style="color: #D4D4D4;">=</span><span style="color: #CE9178;">&quot;c11 c47 c13 c37&quot;</span><span style="color: #808080;">></span></span>
<span class="line"><span style="color: #6A9955;">&lt;!-- ...(略) --></span></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">かなりすっきりしていますね。
1ページすべてで上記の短縮が行われると、結構大きなHTMLのサイズ差になるのではないでしょうか。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">設定方法</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">それでは、その設定方法を見ていきましょう。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">クラス名を短縮させるには、<code class="c-1f8td17">createGenerateClassName</code> で設定を行います。
Next.jsではクライアント側、サーバー(SSR/SSG)側の両方で使用するので、今回は別ファイルで設定しておき、importして使用するようにします。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb">src/styles.ts</span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #C586C0;">import</span><span style="color: #D4D4D4;"> { </span><span style="color: #9CDCFE;">createGenerateClassName</span><span style="color: #D4D4D4;"> } </span><span style="color: #C586C0;">from</span><span style="color: #D4D4D4;"> </span><span style="color: #CE9178;">'@material-ui/core'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0;">export</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">const</span><span style="color: #D4D4D4;"> </span><span style="color: #DCDCAA;">getGenerateClassName</span><span style="color: #D4D4D4;"> = () </span><span style="color: #569CD6;">=></span></span>
<span class="line"><span style="color: #D4D4D4;">  </span><span style="color: #DCDCAA;">createGenerateClassName</span><span style="color: #D4D4D4;">({</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #9CDCFE;">productionPrefix:</span><span style="color: #D4D4D4;"> </span><span style="color: #CE9178;">'c'</span><span style="color: #D4D4D4;">,</span></span>
<span class="line"><span style="color: #D4D4D4;">    </span><span style="color: #9CDCFE;">disableGlobal:</span><span style="color: #D4D4D4;"> </span><span style="color: #569CD6;">true</span><span style="color: #D4D4D4;">,</span></span>
<span class="line"><span style="color: #D4D4D4;">  })</span></span>
<span class="line"></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">ポイントは、<code class="c-1f8td17">disableGlobal</code> で、<code class="c-1f8td17">true</code> にすることです。これによって、Material-UI標準のクラス名も短縮されるようになります。
<code class="c-1f8td17">productionPrefix</code> はクラス名のプレフィックスで、初期値は <code class="c-1f8td17">jss</code> です。今回は、より短くするために、1文字の <code class="c-1f8td17">c</code> を指定しました。それによって、クラス名が <code class="c-1f8td17">c10</code> のようになります。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">次はクライアント側、<code class="c-1f8td17">_app.tsx</code> です。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb">diff: pages/_app.tsx</span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #B5CEA8;">+import { StylesProvider } from '@material-ui/core/styles'</span></span>
<span class="line"><span style="color: #B5CEA8;">+import { getGenerateClassName } from '../src/styles'</span></span>
<span class="line"><span style="color: #D4D4D4;"> </span></span>
<span class="line"><span style="color: #B5CEA8;">+const generateClassName = getGenerateClassName()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> export default function MyApp(props: AppProps) {</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;">   return (</span></span>
<span class="line"><span style="color: #B5CEA8;">+    &lt;StylesProvider generateClassName={generateClassName}></span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;Head></span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;title>My page&lt;/title></span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;meta name=&quot;viewport&quot; content=&quot;minimum-scale=1, initial-scale=1, width=device-width&quot; /></span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;/Head></span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;ThemeProvider theme={theme}></span></span>
<span class="line"><span style="color: #D4D4D4;">         {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}</span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;CssBaseline /></span></span>
<span class="line"><span style="color: #D4D4D4;">         &lt;Component {...pageProps} /></span></span>
<span class="line"><span style="color: #D4D4D4;">       &lt;/ThemeProvider></span></span>
<span class="line"><span style="color: #B5CEA8;">+    &lt;/StylesProvider></span></span>
<span class="line"><span style="color: #D4D4D4;">   )</span></span>
<span class="line"><span style="color: #D4D4D4;"> }</span></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">コンテンツを <code class="c-ceho3e">&lt;StylesProvider /></code> で囲み、生成した <code class="c-1f8td17">generateClassName</code> をpropsに渡してください。
ポイントは、<code class="c-1f8td17">generateClassName</code> の生成は1回だけ行うことです。今回のコードでは、コンポーネントの外に出しています。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">続いてサーバー側、<code class="c-1f8td17">_document.tsx</code>です。</p>
<div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation4 c-14rm9aa"><div class="c-vlahzl"><span class="MuiTypography-root MuiTypography-body1 c-1lky7cb">diff: pages/_document.tsx</span><button tabIndex="0" type="button" aria-label="copy" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall c-1yipi07"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ContentCopyIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1k33q06"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg></button></div><pre style="background-color: #1E1E1E;" class="MuiTypography-root MuiTypography-body1 shiki dark-plus c-12ogyw6"><code class="c-ceho3e"><span class="line"><span style="color: #B5CEA8;">+import { getGenerateClassName } from '../src/styles'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> // 略</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4;"> MyDocument.getInitialProps = async (ctx) => {</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"><span style="color: #CE9178;">-  const sheets = new ServerStyleSheets()</span></span>
<span class="line"><span style="color: #B5CEA8;">+  const serverGenerateClassName = getGenerateClassName()</span></span>
<span class="line"><span style="color: #B5CEA8;">+  const sheets = new ServerStyleSheets({ serverGenerateClassName })</span></span>
<span class="line"><span style="color: #D4D4D4;">   // 略</span></span>
<span class="line"><span style="color: #D4D4D4;"> }</span></span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid"><code class="c-1f8td17">generateClassName</code> を生成し、<code class="c-1f8td17">ServerStyleSheets</code> の引数に渡します。
ポイントは、クライアント側と違い、パラメータ名が <code class="c-1f8td17">serverGenerateClassName</code> になっていることと、<code class="c-1f8td17">getInitialProps</code> で <code class="c-1f8td17">generateClassName</code> を生成、つまりアクセスの度に生成し直している所です。</p>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">上記の設定により、Material-UI標準のコンポーネントのクラス名が、短縮されるようになります。</p>
<h2 class="MuiTypography-root MuiTypography-h4 c-1ugattu">最後に</h2>
<p class="MuiTypography-root MuiTypography-body1 c-y25xid">供養完了です。
MUI v5でもできる方法があれば教えて下さい。</p></main></article><ul class="c-1aue7hj"><li class="c-1sl6rns"><a href="/posts/use-amp/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-f7hjxq">ブログをAMP対応（仮）しました</a></li><li class="c-1bhrv1p"><a href="/" class="MuiTypography-root MuiTypography-body1 MuiLink-root MuiLink-underlineAlways c-f7hjxq">HOME</a></li><li class="c-mpp38z"></li></ul><aside class="c-ze4krk"><header><h1 class="MuiTypography-root MuiTypography-h5 c-1jnynlu">同じタグを含む記事</h1><ul class="c-ntfpy7"> <li class="c-1vaygba"><a href="/tags/MUI/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#MUI</a></li> <li class="c-1vaygba"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#Next.js</a></li></ul></header><main><ul class="c-1rvtlej"><li class="c-116qoqd"><article><header><div class="c-1n6wxgb"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2020-11-28T08:05:18.607Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2020-11-28</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty"><a href="/posts/use-amp/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-15kjgm">ブログをAMP対応（仮）しました</a></h1><ul class="c-ntfpy7"> <li class="c-1vaygba"><a href="/tags/AMP/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#AMP</a></li> <li class="c-1vaygba"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#Next.js</a></li> <li class="c-1vaygba"><a href="/tags/blog/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#blog</a></li></ul></header></article></li><li class="c-116qoqd"><article><header><div class="c-1n6wxgb"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="CalendarTodayIcon" class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall c-1qh3bxa"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"></path></svg><time dateTime="2020-09-20T06:33:49.199Z" class="MuiTypography-root MuiTypography-body2 c-16n8wpk">2020-09-20</time></div><h1 class="MuiTypography-root MuiTypography-h5 MuiTypography-gutterBottom c-1ihubty"><a href="/posts/use-next/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-15kjgm">ブログをNext.jsベースに変更した</a></h1><ul class="c-ntfpy7"> <li class="c-1vaygba"><a href="/tags/React/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#React</a></li> <li class="c-1vaygba"><a href="/tags/Next.js" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#Next.js</a></li> <li class="c-1vaygba"><a href="/tags/blog/" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineHover c-1f5kc47">#blog</a></li></ul></header></article></li></ul></main></aside></div><footer class="c-1d3ah2d"><div class="MuiContainer-root MuiContainer-maxWidthLg c-1qsxih2"><p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom c-fnf71d">Author: <a href="https://github.com/iMasanari" class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways c-15kjgm">iMasanari</a></p><a href="https://github.com/iMasanari/imasanari.github.io/" class="MuiTypography-root MuiTypography-body2 MuiLink-root MuiLink-underlineAlways c-19fxvs2">Show on GitHub</a></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Material-UI v4の標準コンポーネントのクラス名を短縮してレンダリングする方法","description":"Material-UI v4で標準コンポーネントのクラス名を短縮するには、`createGenerateClassName` を使用します。このページでは、その `createGenerateClassName` の設定方法を紹介します。","slug":"mui-generate-class-name","tags":["MUI","Next.js"],"date":"2021-10-11T16:40:23.602Z","update":null,"image":null,"draft":false},"next":null,"prev":{"title":"ブログをAMP対応（仮）しました","description":"実質、各ページに `export const config = { amp: 'hybrid' }` を追加しただけ。next.js超ラク。","slug":"use-amp","tags":["AMP","Next.js","blog"],"date":"2020-11-28T08:05:18.607Z","update":null,"image":null,"draft":false},"sameTags":[{"title":"ブログをAMP対応（仮）しました","description":"実質、各ページに `export const config = { amp: 'hybrid' }` を追加しただけ。next.js超ラク。","slug":"use-amp","tags":["AMP","Next.js","blog"],"date":"2020-11-28T08:05:18.607Z","update":null,"image":null,"draft":false},{"title":"ブログをNext.jsベースに変更した","description":"","slug":"use-next","tags":["React","Next.js","blog"],"date":"2020-09-20T06:33:49.199Z","update":null,"image":null,"draft":false}],"content":"\u003cp\u003eQiitaに投稿予定でしたが、MUI（Material-UI）がv5になってこの方法が非対応になってしまったので、このブログで供養します。\u003c/p\u003e\n\u003ch2\u003eMaterial-UIのクラス名長い問題\u003c/h2\u003e\n\u003cp\u003e長くないですか？\n下記は、Next.jsとMaterial-UIを組み合わせたexampleのコードです。実際にSSR/SSGしてみましょう。\u003c/p\u003e\n\u003capp-code-wrapper lang=\"tsx\" code=\"export default function Index() {\n  return (\n    \u003cContainer maxWidth=\u0026#x22;sm\u0026#x22;\u003e\n      \u003cBox my={4}\u003e\n        \u003cTypography variant=\u0026#x22;h4\u0026#x22; component=\u0026#x22;h1\u0026#x22; gutterBottom\u003e\n          Next.js with TypeScript example\n        \u003c/Typography\u003e\n        \u003cLink href=\u0026#x22;/about\u0026#x22; color=\u0026#x22;secondary\u0026#x22;\u003e\n          Go to the about page\n        \u003c/Link\u003e\n        \u003cProTip /\u003e\n        \u003cCopyright /\u003e\n      \u003c/Box\u003e\n    \u003c/Container\u003e\n  )\n}\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003edefault\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003eIndex\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eContainer\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003emaxWidth\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;sm\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eBox\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003emy\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e{\u003c/span\u003e\u003cspan style=\"color: #B5CEA8\"\u003e4\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e}\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eTypography\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003evariant\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;h4\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecomponent\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;h1\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003egutterBottom\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e          Next.js with TypeScript example\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eTypography\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eLink\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;/about\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecolor\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;secondary\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e          Go to the about page\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eLink\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eProTip\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e        \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eCopyright\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e/\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e      \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eBox\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #4EC9B0\"\u003eContainer\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003e\u003ccode\u003eMuiContainerroot-0-1-1\u003c/code\u003eのように、長いクラス名（しかも1つの要素に複数のクラス）になります。\u003c/p\u003e\n\u003capp-code-wrapper lang=\"html\" code=\"\u003cdiv class=\u0026#x22;MuiContainerroot-0-1-1 MuiContainermaxWidthSm-0-1-5\u0026#x22;\u003e\n  \u003cdiv class=\u0026#x22;MuiBoxroot-0-1-9 MuiBoxroot-0-1-10\u0026#x22;\u003e\n    \u003ch1 class=\u0026#x22;MuiTypographyroot-0-1-11 MuiTypographyh4-0-1-19 MuiTypographygutterBottom-0-1-31\u0026#x22;\u003eNext.js with TypeScript example\u003c/h1\u003e\n    \u003ca class=\u0026#x22;MuiTypographyroot-0-1-11 MuiLinkroot-0-1-41 MuiLinkunderlineHover-0-1-43 MuiTypographycolorSecondary-0-1-35\u0026#x22; href=\u0026#x22;/about\u0026#x22;\u003eGo to the about page\u003c/a\u003e\n    \u003cp class=\u0026#x22;MuiTypographyroot-0-1-11 makeStylesroot-0-1-47 MuiTypographybody1-0-1-13 MuiTypographycolorTextSecondary-0-1-37\u0026#x22;\u003e\n\u003c!-- ...(略) --\u003e\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;MuiContainerroot-0-1-1 MuiContainermaxWidthSm-0-1-5\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;MuiBoxroot-0-1-9 MuiBoxroot-0-1-10\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;MuiTypographyroot-0-1-11 MuiTypographyh4-0-1-19 MuiTypographygutterBottom-0-1-31\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eNext.js with TypeScript example\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;MuiTypographyroot-0-1-11 MuiLinkroot-0-1-41 MuiLinkunderlineHover-0-1-43 MuiTypographycolorSecondary-0-1-35\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;/about\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eGo to the about page\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;MuiTypographyroot-0-1-11 makeStylesroot-0-1-47 MuiTypographybody1-0-1-13 MuiTypographycolorTextSecondary-0-1-37\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A9955\"\u003e\u0026lt;!-- ...(略) --\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003eこの記事で紹介する設定を行えば、\u003ccode\u003eproduction\u003c/code\u003e設定のビルドで下記のようになります。\u003c/p\u003e\n\u003capp-code-wrapper lang=\"html\" code=\"\u003cdiv class=\u0026#x22;c1 c5\u0026#x22;\u003e\n  \u003cdiv class=\u0026#x22;c9 c10\u0026#x22;\u003e\n    \u003ch1 class=\u0026#x22;c11 c19 c31\u0026#x22;\u003eNext.js with TypeScript example\u003c/h1\u003e\n    \u003ca class=\u0026#x22;c11 c41 c43 c35\u0026#x22; href=\u0026#x22;/about\u0026#x22;\u003eGo to the about page\u003c/a\u003e\n    \u003cp class=\u0026#x22;c11 c47 c13 c37\u0026#x22;\u003e\n\u003c!-- ...(略) --\u003e\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;c1 c5\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ediv\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;c9 c10\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;c11 c19 c31\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eNext.js with TypeScript example\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003eh1\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;c11 c41 c43 c35\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ehref\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;/about\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003eGo to the about page\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ea\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003ep\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e=\u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026quot;c11 c47 c13 c37\u0026quot;\u003c/span\u003e\u003cspan style=\"color: #808080\"\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #6A9955\"\u003e\u0026lt;!-- ...(略) --\u0026gt;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003eかなりすっきりしていますね。\n1ページすべてで上記の短縮が行われると、結構大きなHTMLのサイズ差になるのではないでしょうか。\u003c/p\u003e\n\u003ch2\u003e設定方法\u003c/h2\u003e\n\u003cp\u003eそれでは、その設定方法を見ていきましょう。\u003c/p\u003e\n\u003cp\u003eクラス名を短縮させるには、\u003ccode\u003ecreateGenerateClassName\u003c/code\u003e で設定を行います。\nNext.jsではクライアント側、サーバー(SSR/SSG)側の両方で使用するので、今回は別ファイルで設定しておき、importして使用するようにします。\u003c/p\u003e\n\u003capp-code-wrapper title=\"src/styles.ts\" lang=\"js\" code=\"import { createGenerateClassName } from \u0026#x27;@material-ui/core\u0026#x27;\n\nexport const getGenerateClassName = () =\u003e\n  createGenerateClassName({\n    productionPrefix: \u0026#x27;c\u0026#x27;,\n    disableGlobal: true,\n  })\n\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e { \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003ecreateGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e } \u003c/span\u003e\u003cspan style=\"color: #C586C0\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026#39;@material-ui/core\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #C586C0\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003egetGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e = () \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003e=\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  \u003c/span\u003e\u003cspan style=\"color: #DCDCAA\"\u003ecreateGenerateClassName\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003eproductionPrefix:\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #CE9178\"\u003e\u0026#39;c\u0026#39;\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e    \u003c/span\u003e\u003cspan style=\"color: #9CDCFE\"\u003edisableGlobal:\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003cspan style=\"color: #569CD6\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: #D4D4D4\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003eポイントは、\u003ccode\u003edisableGlobal\u003c/code\u003e で、\u003ccode\u003etrue\u003c/code\u003e にすることです。これによって、Material-UI標準のクラス名も短縮されるようになります。\n\u003ccode\u003eproductionPrefix\u003c/code\u003e はクラス名のプレフィックスで、初期値は \u003ccode\u003ejss\u003c/code\u003e です。今回は、より短くするために、1文字の \u003ccode\u003ec\u003c/code\u003e を指定しました。それによって、クラス名が \u003ccode\u003ec10\u003c/code\u003e のようになります。\u003c/p\u003e\n\u003cp\u003e次はクライアント側、\u003ccode\u003e_app.tsx\u003c/code\u003e です。\u003c/p\u003e\n\u003capp-code-wrapper title=\"pages/_app.tsx\" lang=\"diff\" code=\"+import { StylesProvider } from \u0026#x27;@material-ui/core/styles\u0026#x27;\n+import { getGenerateClassName } from \u0026#x27;../src/styles\u0026#x27;\n \n+const generateClassName = getGenerateClassName()\n\n export default function MyApp(props: AppProps) {\n   // 略\n\n   return (\n+    \u003cStylesProvider generateClassName={generateClassName}\u003e\n       \u003cHead\u003e\n         \u003ctitle\u003eMy page\u003c/title\u003e\n         \u003cmeta name=\u0026#x22;viewport\u0026#x22; content=\u0026#x22;minimum-scale=1, initial-scale=1, width=device-width\u0026#x22; /\u003e\n       \u003c/Head\u003e\n       \u003cThemeProvider theme={theme}\u003e\n         {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n         \u003cCssBaseline /\u003e\n         \u003cComponent {...pageProps} /\u003e\n       \u003c/ThemeProvider\u003e\n+    \u003c/StylesProvider\u003e\n   )\n }\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { StylesProvider } from \u0026#39;@material-ui/core/styles\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { getGenerateClassName } from \u0026#39;../src/styles\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+const generateClassName = getGenerateClassName()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e export default function MyApp(props: AppProps) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   return (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+    \u0026lt;StylesProvider generateClassName={generateClassName}\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026lt;Head\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026lt;title\u0026gt;My page\u0026lt;/title\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;minimum-scale=1, initial-scale=1, width=device-width\u0026quot; /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026lt;/Head\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026lt;ThemeProvider theme={theme}\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026lt;CssBaseline /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e         \u0026lt;Component {...pageProps} /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e       \u0026lt;/ThemeProvider\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+    \u0026lt;/StylesProvider\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003eコンテンツを \u003ccode\u003e\u0026#x3C;StylesProvider /\u003e\u003c/code\u003e で囲み、生成した \u003ccode\u003egenerateClassName\u003c/code\u003e をpropsに渡してください。\nポイントは、\u003ccode\u003egenerateClassName\u003c/code\u003e の生成は1回だけ行うことです。今回のコードでは、コンポーネントの外に出しています。\u003c/p\u003e\n\u003cp\u003e続いてサーバー側、\u003ccode\u003e_document.tsx\u003c/code\u003eです。\u003c/p\u003e\n\u003capp-code-wrapper title=\"pages/_document.tsx\" lang=\"diff\" code=\"+import { getGenerateClassName } from \u0026#x27;../src/styles\u0026#x27;\n\n // 略\n\n MyDocument.getInitialProps = async (ctx) =\u003e {\n   // 略\n-  const sheets = new ServerStyleSheets()\n+  const serverGenerateClassName = getGenerateClassName()\n+  const sheets = new ServerStyleSheets({ serverGenerateClassName })\n   // 略\n }\"\u003e\u003cpre class=\"shiki dark-plus\" style=\"background-color: #1E1E1E\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+import { getGenerateClassName } from \u0026#39;../src/styles\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e MyDocument.getInitialProps = async (ctx) =\u0026gt; {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #CE9178\"\u003e-  const sheets = new ServerStyleSheets()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+  const serverGenerateClassName = getGenerateClassName()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #B5CEA8\"\u003e+  const sheets = new ServerStyleSheets({ serverGenerateClassName })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e   // 略\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color: #D4D4D4\"\u003e }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/app-code-wrapper\u003e\n\u003cp\u003e\u003ccode\u003egenerateClassName\u003c/code\u003e を生成し、\u003ccode\u003eServerStyleSheets\u003c/code\u003e の引数に渡します。\nポイントは、クライアント側と違い、パラメータ名が \u003ccode\u003eserverGenerateClassName\u003c/code\u003e になっていることと、\u003ccode\u003egetInitialProps\u003c/code\u003e で \u003ccode\u003egenerateClassName\u003c/code\u003e を生成、つまりアクセスの度に生成し直している所です。\u003c/p\u003e\n\u003cp\u003e上記の設定により、Material-UI標準のコンポーネントのクラス名が、短縮されるようになります。\u003c/p\u003e\n\u003ch2\u003e最後に\u003c/h2\u003e\n\u003cp\u003e供養完了です。\nMUI v5でもできる方法があれば教えて下さい。\u003c/p\u003e"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"mui-generate-class-name"},"buildId":"j9pN2qkinOzmCeAXbpeMz","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>